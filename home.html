<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/home.css">
     <script src="https://cdn.tailwindcss.com"></script>
    <title>EcoRide</title>
</head>

<body>
   <nav class="navbar">

    <div class="logo">
      <img src="images/EcoRide üåø.png" alt="Logo" >
    </div>
    <ul class="nav-links">
      <li><a href="home.html">Accueil</a></li>
      <li><a href="covoiurage-disponibles.html">Acc√®s aux covoiturages</a></li>
      <li><a href="contact.html">Contact</a></li>
      <li><a href="login.html">Connexion</a></li>
      <li><a href="register.html">Cr√©er un compte</a></li>
      <li><a href="#" onclick="logout()">D√©connexion</a></li>
    </ul>
  
  </nav>

   <header class="header">
    <h1>EcoRide üåø</h1>
    <p>Le covoiturage √©cologique, simple et responsable.</p>
     <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Totam, adipisci. Ex minima odit beatae natus unde velit fugit quasi ducimus quidem maiores.
       Beatae assumenda molestias exercitationem facere tempore, non repellendus.</p>

   <section class="max-w-4xl mx-auto mt-10 p-6 bg-green-100 rounded-lg shadow-md">
  <h2 class="text-2xl font-bold text-green-700 mb-4">Trouvez un covoiturage</h2>
  <form id="searchForm" class="grid grid-cols-1 md:grid-cols-4 gap-4">
    <input type="text" name="depart" placeholder="Ville de d√©part" 
           class="border p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-green-600 bg-white text-black" required>
    <input type="text" name="destination" placeholder="Ville d'arriv√©e" 
           class="border p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-green-600 bg-white text-black" required>
    <input type="date" name="date" 
           class="border p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-green-600 bg-white text-black" required>
    <div class="flex gap-2">
      <button type="submit" 
              class="bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition flex-1">
        Rechercher
      </button>
      <button type="button" id="resetButton"
              class="bg-gray-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-600 transition">
        Reset
      </button>
    </div>
  </form>
  
  <!-- Zone d'affichage des r√©sultats directement sous le formulaire -->
  <div id="searchResults" class="mt-6">
    <!-- Les r√©sultats s'afficheront ici -->
  </div>
</section>
  </header> 


   <main>
    <section class="presentation">
      <h2>Qui sommes-nous ?</h2>
      <p>
        EcoRide est une startup fran√ßaise engag√©e pour un avenir plus vert üåç.<br>
        Notre mission : r√©duire l‚Äôimpact environnemental des trajets en voiture tout en facilitant la rencontre entre conducteurs et passagers.
      </p>
      <img src="https://images.unsplash.com/photo-1503376780353-7e6692767b70?auto=format&fit=crop&w=800&q=80" alt="Voiture √©cologique sur la route">
    </section>
 

<section id="reviews" class="max-w-6xl mx-auto mt-8 space-y-6">
  <div class="text-center mb-8">
    <h2 class="text-3xl font-bold text-green-700 mb-2">‚≠ê Avis de nos clients</h2>
    <p class="text-gray-600">D√©couvrez ce que nos utilisateurs disent de notre service de covoiturage</p>
  </div>
  
  <!-- Les avis s'afficheront ici dynamiquement -->
  <div id="reviewsList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    <!-- Les avis seront g√©n√©r√©s par JavaScript -->
  </div>
</section>

<footer class="bg-green-700 text-white mt-10">
  <div class="w-full px-6 py-10 grid grid-cols-1 md:grid-cols-3 gap-6">
    
    <!-- √Ä propos -->
    <div>
      <h3 class="font-bold text-lg mb-2">√Ä propos d'EcoRide</h3>
      <p class="text-green-100">
        EcoRide est une plateforme de covoiturage √©cologique, simple et responsable.
        R√©duisez votre impact environnemental tout en partageant vos trajets.
      </p>
    </div>

    <!-- Liens rapides -->
    <div>
      <h3 class="font-bold text-lg mb-2">Liens rapides</h3>
      <ul class="space-y-1">
        <li><a href="home.html" class="hover:text-green-300">Accueil</a></li>
        <li><a href="covoiurage-disponibles.html" class="hover:text-green-300">Acc√®s aux covoiturages</a></li>
        <li><a href="contact.html" class="hover:text-green-300">Contact</a></li>
        <li><a href="login.html" class="hover:text-green-300">Connexion</a></li>
        <li><a href="register.html" class="hover:text-green-300">Cr√©er un compte</a></li>
      </ul>
    </div>

    <!-- Contact -->
    <div>
      <h3 class="font-bold text-lg mb-2">Contact</h3>
      <p class="text-green-100 mb-1">üìß Email : <a href="mailto:contact@ecoride.fr" class="hover:text-green-300">contact@ecoride.fr</a></p>
      <p class="text-green-100 mb-1">üìû T√©l√©phone : <a href="tel:+33123456789" class="hover:text-green-300">01 23 45 67 89</a></p>
      <p class="text-green-100">üåê Site web : <a href="home.html" class="hover:text-green-300">www.ecoride.fr</a></p>
      <a href="contact.html" class="inline-block mt-4 px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-lg transition">
        üìß Nous contacter
      </a>
    </div>

  </div>

  <div class="border-t border-green-600 mt-6 text-center py-4 text-green-200 text-sm">
    &copy; 2025 EcoRide. Tous droits r√©serv√©s.
  </div>
</footer>

 <script src="js/userManager.js"></script>
 <script src="js/tripManager.js"></script>
 <script src="js/navbar.js"></script>
 <script src="js/script.js"></script>
 
 <script>
   // Avis de d√©monstration par d√©faut (affich√©s si aucun avis valid√©)
   const defaultReviews = [
     {
       name: 'Marie Dubois',
       rating: 5,
       comment: 'Service exceptionnel ! Les trajets sont √† l\'heure et les chauffeurs tr√®s sympathiques.',
       date: '2025-01-15',
       trip: 'Paris ‚Üí Lyon'
     },
     {
       name: 'Jean Martin',
       rating: 5,
       comment: 'Excellente plateforme ! J\'ai √©conomis√© beaucoup d\'argent et rencontr√© des personnes int√©ressantes.',
       date: '2025-01-10',
       trip: 'Lyon ‚Üí Marseille'
     },
     {
       name: 'Sophie Laurent',
       rating: 4,
       comment: 'Tr√®s pratique pour mes trajets r√©guliers. Interface intuitive et r√©servation simple.',
       date: '2025-01-08',
       trip: 'Bordeaux ‚Üí Paris'
     },
     {
       name: 'Pierre Lefebvre',
       rating: 5,
       comment: 'EcoRide a chang√© mes habitudes de d√©placement. Je recommande vivement !',
       date: '2025-01-05',
       trip: 'Paris ‚Üí Strasbourg'
     },
     {
       name: 'Catherine Moreau',
       rating: 4,
       comment: 'Service de covoiturage √©cologique et √©conomique. Super exp√©rience !',
       date: '2025-01-03',
       trip: 'Nice ‚Üí Marseille'
     },
     {
       name: 'Thomas Bernard',
       rating: 5,
       comment: 'Tr√®s bon service, conducteurs ponctuels et v√©hicules propres. √Ä refaire !',
       date: '2025-01-01',
       trip: 'Nantes ‚Üí Paris'
     }
   ];

   // Fonction pour r√©cup√©rer les avis valid√©s depuis localStorage
   function getValidatedReviews() {
     try {
       const reviews = localStorage.getItem('ecoride_reviews');
       if (!reviews) return [];
       
       const parsedReviews = JSON.parse(reviews);
       // Filtrer uniquement les avis valid√©s
       return parsedReviews.filter(review => review.statut === 'valid√©');
     } catch (error) {
       console.error('Erreur lors de la r√©cup√©ration des avis:', error);
       return [];
     }
   }

   // Fonction pour g√©n√©rer les √©toiles
   function generateStars(rating) {
     let stars = '';
     for (let i = 1; i <= 5; i++) {
       if (i <= rating) {
         stars += '‚≠ê';
       } else {
         stars += '‚òÜ';
       }
     }
     return stars;
   }

   // Fonction pour afficher les avis
   function displayReviews() {
     const reviewsList = document.getElementById('reviewsList');
     reviewsList.innerHTML = '';
     
     // R√©cup√©rer les avis valid√©s
     const validatedReviews = getValidatedReviews();
     
     // Mapper les avis valid√©s au format d'affichage
     const reviewsToDisplay = validatedReviews.map(review => ({
       name: review.passager,
       rating: review.note,
       comment: review.commentaire,
       date: review.date,
       trip: `Covoiturage #${review.tripId || 'N/A'}`
     }));
     
     // Si aucun avis valid√©, utiliser les avis de d√©monstration
     const reviews = reviewsToDisplay.length > 0 ? reviewsToDisplay : defaultReviews;
     
     // Limiter √† 6 avis maximum
     const reviewsToShow = reviews.slice(0, 6);
     
     reviewsToShow.forEach(review => {
       const reviewCard = document.createElement('div');
       reviewCard.className = 'bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow';
       
       const formattedDate = new Date(review.date).toLocaleDateString('fr-FR', {
         day: '2-digit',
         month: 'long',
         year: 'numeric'
       });
       
       reviewCard.innerHTML = `
         <div class="flex items-start justify-between mb-4">
           <div>
             <h3 class="font-bold text-gray-900">${review.name}</h3>
             <p class="text-sm text-gray-600">${formattedDate}</p>
           </div>
           <div class="text-yellow-500 text-lg">
             ${generateStars(review.rating)}
           </div>
         </div>
         
         <div class="mb-4">
           <p class="text-green-700 font-semibold text-sm mb-2">üìç ${review.trip}</p>
           <p class="text-gray-700">${review.comment}</p>
         </div>
         
         <div class="pt-4 border-t border-gray-200">
           <p class="text-xs text-gray-500">Avis v√©rifi√© ‚úÖ</p>
         </div>
       `;
       
       reviewsList.appendChild(reviewCard);
     });
   }

   // Fonction de d√©connexion
   function logout() {
     if (confirm('Voulez-vous vous d√©connecter ?')) {
       userManager.logout();
       window.location.href = 'home.html';
     }
   }
   
   // Exporter la fonction logout
   window.logout = logout;
   
   // Afficher les avis au chargement de la page
   document.addEventListener('DOMContentLoaded', function() {
     displayReviews();
   });
 </script>

</body>
</html>